import numpy as np
import pandas as pd
import statsmodels
import scipy
import matplotlib.pyplot as plt
import seaborn as sns

# 25 measurements per distance BW 1.6 MHz and SF 6 as found yesterday to be best 100 packets mange pakker bliver tabt / noter hvor mange måske 10/100 ca.
# 10 m
BW16SF610m = [9.9,11.8,10.8,9.9,11.8,9.9,10.8,10.8,10.8,10.8,9.9,10.8,10.8,10.8,9.9,9.1,9.9,9.9,10.8,10.4,11.8,10.8,10.8,10.8,10.8]
# 25 m
BW16SF625m = [26.5,26.5,28,25.7,26.5,26.5,26.1,25,26.9,25.7,25.7,25,25,25.7,26.7,25.4,26.1,25.7,26.5,26.5,25,25.7,24.2,24.2,24.2]
# 50 m
BW16SF650m = [42.5,43,42.5,42.5,42.5,42.5,42.5,40.9,41.7,42.5,41.7,42.5,42.5,42.5,40.9,42.9,42.9,42.5,42.9,41.7,42.5,44,44,42.5,41.7]
# 75 m
BW16SF675m = [69.7,69.7,69.7,71,69.7,69.7,68.3,68.3,67.7,68.3,68.3,70.4,68.3,69.7,69.7,69.7,69.7,69.6,71,71,69.7,69.7,69.7,69.7,69.7]
# 100 m
BW16SF6100m = [99.2,98.9,98.3,98.9,100.5,97.5,100,98.9,98.9,98.3,100,98.9,97.5,97.5,100,97.5,98.3,100,98.9,100,97.5,100,98.7,101,103]
# 150 m
BW16SF6150m = [151,149,150.5,152,151.5,151.5,151.5,151.5,151.5,151,151,151,150,150,151,150,148.5,152,149.8,152,149,151,150.5,150,151.1]
# 200 m
BW16SF6200m = [199,201,199,199,199,203,201.5,199.6,203.7,193.5,193.5,201,202.2,204,202,192.9,197.4,200.3,200.5,200.3,202.5,202,203,203,199]
# 250 m
BW16SF6250m = [248,249,249,247.7,247.7,249,248.7,249,248.5,249,250,248,250,251,250,248.5,249,250,246,246,248,247,248,247,243.5]
# 300 m
BW16SF6300m = [296,296,291.4,302.5,302.5,302.5,301,299,296.2,290.8,303,301.9,294,295,303,299,299.5,301,301,304,298,305.1,300,300.5,300]
# 400 m around 10% packets return answer
BW16SF6400m = [400,405.4,403.8,398.7,402.6,399.7,408.8,402.1,403.2,415.7,400,401.6,400,400,399,399.5,399,398.4,397,395.5,399,397,400.5,400,395.9]

BW_16_SF_6_Measurements = pd.DataFrame(np.transpose(np.array([
                         [9.9,11.8,10.8,9.9,11.8,9.9,10.8,10.8,10.8,10.8,9.9,10.8,10.8,10.8,9.9,9.1,9.9,9.9,10.8,10.4,11.8,10.8,10.8,10.8,10.8],
                         [26.5,26.5,28,25.7,26.5,26.5,26.1,25,26.9,25.7,25.7,25,25,25.7,26.7,25.4,26.1,25.7,26.5,26.5,25,25.7,24.2,24.2,24.2],
                         [42.5,43,42.5,42.5,42.5,42.5,42.5,40.9,41.7,42.5,41.7,42.5,42.5,42.5,40.9,42.9,42.9,42.5,42.9,41.7,42.5,44,44,42.5,41.7],
                         [69.7,69.7,69.7,71,69.7,69.7,68.3,68.3,67.7,68.3,68.3,70.4,68.3,69.7,69.7,69.7,69.7,69.6,71,71,69.7,69.7,69.7,69.7,69.7],
                         [99.2, 98.9, 98.3, 98.9, 100.5, 97.5, 100, 98.9, 98.9, 98.3, 100, 98.9, 97.5, 97.5, 100, 97.5, 98.3, 100, 98.9, 100, 97.5, 100, 98.7, 101, 103],
                         [151,149,150.5,152,151.5,151.5,151.5,151.5,151.5,151,151,151,150,150,151,150,148.5,152,149.8,152,149,151,150.5,150,151.1],
                         [199,201,199,199,199,203,201.5,199.6,203.7,193.5,193.5,201,202.2,204,202,192.9,197.4,200.3,200.5,200.3,202.5,202,203,203,199],
                         [248,249,249,247.7,247.7,249,248.7,249,248.5,249,250,248,250,251,250,248.5,249,250,246,246,248,247,248,247,243.5],
                         [296,296,291.4,302.5,302.5,302.5,301,299,296.2,290.8,303,301.9,294,295,303,299,299.5,301,301,304,298,305.1,300,300.5,300],
                         [400,405.4,403.8,398.7,402.6,399.7,408.8,402.1,403.2,415.7,400,401.6,400,400,399,399.5,399,398.4,397,395.5,399,397,400.5,400,395.9]])),
                         columns=['10m','25m','50m','75m','100m','150m','200m','250m','300m','400m'])

##
# 500 m 1.6 MHz did not reach within 50 tries. therefore 800 khz was used around 0-88% packet return (when it worked min 20%)
# 119 packets/tries were sent to get 25 responds
BW8SF6510m = [525.5,524.9,5515,524,522,525.5,523,523,525,522,526,536,524,523,41342,523.5,525,526,524,535,523,522,525,526,524]

# 600 m ----
# ELEVATION BEGINS HERE (MEASURED TO BE m)
#number of packets/tries to get these data  was 152
BW8SF6642m = [656,653,652,44832,654,654,655,656.5,65535,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y]

#BW16 and sf10 since bw 800 did not yield much. Tries/packets = 151
bw16sf10642m = [664,664,665,664,664,708,665,665,664,664,665,665,665,664,664,664,665,665,664,664,665,663,664,664,664]

# 800 m bw 800 for more range, since at bw 1.6 only 1 / 36 tries gave result
# tries/packets = 20+6+10+10+33
BW8SF10841m = [892.5,1129,892,891,892,889,890,889,888,890,892,889,891,891,891,892,890.5,892,0,893,893,893,890,889,889]

# 1000m (til enden af dtu) BW 800 SF 10 prøves til start. tries: 12+10+54+16 FEI around 14800
# KM: 1,122992928
BW8SF101100m = [1181,1181,1182,1181,1183,1182,1180,1182,1180,1180,1180,1181,1181,1182,1183,1182,1183,1183,1184,1184,1184,1183,1183,1184,1183]


